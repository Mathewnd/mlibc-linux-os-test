name=xgcc
revision=1
from_source=gcc
clean_workdirs=no
imagedeps="build-essential libmpfr-dev libmpc-dev libgmp-dev"
hostdeps="xbinutils pkgconfig libtool"
deps="mlibc-headers"

configure() {
	${source_dir}/configure --target=x86_64-linux-mlibc --prefix=${prefix} --with-sysroot=${sysroot_dir} --enable-languages=c,c++ -enable-threads=posix --disable-multilib
}

build() {
	make all-gcc -j ${parallelism}
}

package(){
	make DESTDIR="${dest_dir}" install-gcc
}
